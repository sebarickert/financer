@tailwind base;
@tailwind components;
@tailwind utilities;

@keyframes pulse {
  0%,
  100% {
    opacity: 0.4;
  }

  50% {
    opacity: 0.1;
  }
}

@layer base {
  :root {
    --header-height: 56px;
    --content-header-height: 56px;
    --contextual-navigation-height: 50px;
    --gutter-top: var(--content-header-height);
    --gutter-bottom: var(--header-height);

    /* Colors */
    --color-text-primary: #161616;
    --color-text-secondary: #525252;
    --color-text-tertiary: #a8a8a8;
    --color-background: #ffffff;
    --color-layer: ##f4f4f4;
    --color-border-primary: #e0e0e0;
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light *) {
      --color-text-primary: #f4f4f4;
      --color-text-secondary: #c6c6c6;
      --color-text-tertiary: #6f6f6f;
      --color-background: #080808;
      --color-layer: #1b1b1b;
      --color-border-primary: #2b2b2b;

      ::picker(select) {
        @apply border-[#2b2b2b] bg-[#080808];
      }
    }
  }

  @media (min-width: theme("screens.lg")) {
    :root {
      --header-height: 64px;
      --content-header-height: minmax(36px, 48px);
      --gutter-top: var(--header-height);
      --gutter-bottom: auto;
    }
  }

  body:has([data-body-scroll-lock="on"]:popover-open) {
    overflow: hidden;
  }

  body:has([data-body-no-pointer-events="on"]:popover-open) {
    pointer-events: none;
  }

  [data-body-no-pointer-events="on"]:popover-open {
    pointer-events: auto;
  }

  select[data-bleeding-edge="on"],
  ::picker(select) {
    appearance: base-select !important;
  }

  ::picker(select) {
    @apply p-2 border rounded-md shadow-none lg:mt-2 border-[--color-border-primary] bg-[--color-background];
  }

  .theme-bg-color-with-hover {
    @apply bg-[--color-background] hover:bg-gray-500/[0.12] dark:hover:bg-gray-500/[0.16];
  }

  .theme-layer-color-with-hover {
    @apply bg-[--color-layer] hover:bg-gray-100/50 dark:hover:bg-[#1b1b1b]/50;
  }

  .theme-layer-secondary-color {
    @apply bg-white dark:bg-gray-800;
  }

  .theme-button-primary {
    @apply text-white bg-blue-600 hover:bg-blue-700 active:bg-blue-900;
  }

  .theme-button-secondary {
    @apply theme-layer-color-with-hover text-[--color-text-primary];
  }

  .theme-button-danger {
    @apply text-white bg-red-600 hover:bg-red-700 active:bg-red-800;
  }

  .theme-button-ghost {
    @apply text-[--color-text-primary] hover:bg-[--color-layer];
  }

  .theme-focus {
    @apply focus-visible:theme-focus-without-prefix;
  }

  .theme-focus-without-prefix {
    @apply outline-none ring ring-blue-600 dark:ring-white;
  }

  .theme-link {
    @apply theme-focus theme-link-without-focus;
  }

  .theme-link-without-focus {
    @apply text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300;
  }

  .theme-field {
    @apply border-none appearance-none theme-focus theme-layer-color-with-hover text-[--color-text-primary] disabled:pointer-events-none disabled:opacity-50;
  }

  .theme-field-inverse {
    @apply border-none appearance-none theme-focus theme-bg-color-with-hover text-[--color-text-primary] disabled:pointer-events-none disabled:opacity-50;
  }
}
